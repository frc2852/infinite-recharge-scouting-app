!function(t){function e(e){for(var n,s,r=e[0],c=e[1],i=e[2],b=0,d=[];b<r.length;b++)s=r[b],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(u&&u(e);d.length;)d.shift()();return l.push.apply(l,i||[]),o()}function o(){for(var t,e=0;e<l.length;e++){for(var o=l[e],n=!0,r=1;r<o.length;r++){var c=o[r];0!==a[c]&&(n=!1)}n&&(l.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},a={4:0},l=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var i=0;i<r.length;i++)e(r[i]);var u=c;l.push([22,0,1]),o()}({2:function(t,e,o){"use strict";o.d(e,"e",(function(){return l})),o.d(e,"a",(function(){return s})),o.d(e,"d",(function(){return r})),o.d(e,"g",(function(){return c})),o.d(e,"c",(function(){return i})),o.d(e,"b",(function(){return u})),o.d(e,"f",(function(){return b}));var n=o(4);const a=()=>Object(n.a)("firecache","1.0",{upgrade:t=>{t.createObjectStore("collections"),t.createObjectStore("state")}}),l=async(t,e,o)=>{const n=await a();return"/"!==t[t.length-1]&&(t+="/"),console.log(t),console.log(o),console.log(e),o.documentId=e,n.put("collections",o,t+e)},s=async(t,e)=>{const o=await a();return void 0!==e?("/"!==t[t.length-1]&&(t+="/"),o.get("collections",t+e)):o.get("collections",t)},r=async()=>(await Object(n.a)("firecache","1.0")).getAllKeys("collections");async function c(t){return(await a()).put("state",t,"settings")}async function i(){return(await a()).get("state","settings")}async function u(){return(await a()).get("state","fieldAppState")}async function b(t){return(await a()).put("state",t,"fieldAppState")}},22:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),l=o(2),s=o(5);a()(document).ready((async function(){let t=void 0,e=void 0,o=void 0,n=void 0;function r(){if(null!=o){t.team=o.currentMatch[n.colour][n.station].teamKey,t.colour=n.colour;const e=o.currentMatch[n.colour][n.station].imageUrls;t.image=null!=e?e[0]:null}c()}function c(){var e;t.balls=0,t.points.high=0,t.points.low=0,t.points.miss=0,t.balls=i(t.events,"pickup"),t.points.high=i(t.events,"high"),t.points.low=i(t.events,"low"),t.points.miss=i(t.events,"miss"),t.balls<0&&(t.balls=0),a()("#ball-count-display").text(t.balls),a()("#high-ball-display").text(t.points.high),a()("#low-ball-display").text(t.points.low),a()("#miss-display").text(t.points.miss),a()("#match-number-display").text("Match Number: "+t.matchNumber),console.log("robot update",t),a()("#team-number-display").text("Team Number: "+t.team.substring(3)),a()("#team-colour-display").text("Alliance: "+("redTeam"==(e=t.colour)?"Red":"blueTeam"==e?"Blue":"Corrupt Data")),a()("#driver-station-display").text("Driver Station: "+(n.station+1).substring(1)),a()("#robot-image").attr("src",t.image),t.balls<0&&(a()("#ball-count-box").addClass("alert"),a()(".btn-undo").addClass("pre-alert")),0==t.balls&&(a()("#ball-count-box").removeClass("alert"),a()("#ball-count-box").removeClass("pre-alert"),a()(".btn-undo").removeClass("alert"),a()(".btn-undo").removeClass("pre-alert")),1==t.balls&&(a()("#ball-count-box").removeClass("alert"),a()("#ball-count-box").removeClass("pre-alert"),a()(".btn-undo").removeClass("alert"),a()(".btn-undo").removeClass("pre-alert")),2==t.balls&&(a()("#ball-count-box").removeClass("alert"),a()("#ball-count-box").removeClass("pre-alert"),a()(".btn-undo").removeClass("alert"),a()(".btn-undo").removeClass("pre-alert")),3==t.balls&&(a()("#ball-count-box").removeClass("alert"),a()("#ball-count-box").removeClass("pre-alert"),a()(".btn-undo").removeClass("alert"),a()(".btn-undo").removeClass("pre-alert")),4==t.balls&&(a()("#ball-count-box").removeClass("alert"),a()("#ball-count-box").removeClass("pre-alert"),a()(".btn-undo").removeClass("alert"),a()(".btn-undo").removeClass("pre-alert")),5==t.balls&&(a()("#ball-count-box").removeClass("alert"),a()("#ball-count-box").removeClass("pre-alert"),a()(".btn-undo").removeClass("alert"),a()(".btn-undo").removeClass("pre-alert")),6==t.balls&&(a()("#ball-count-box").removeClass("alert"),a()("#ball-count-box").addClass("pre-alert"),a()(".btn-undo").removeClass("alert"),a()(".btn-undo").addClass("pre-alert")),t.balls>6&&(a()("#ball-count-box").addClass("alert"),a()(".btn-undo").addClass("alert")),t.points.high<0&&a()("#high-ball-box").addClass("alert"),t.points.high>-1&&a()("#high-ball-box").removeClass("alert"),t.points.low<0&&a()("#low-ball-box").addClass("alert"),t.points.low>-1&&a()("#low-ball-box").removeClass("alert"),t.points.miss<0&&a()("#miss-box").addClass("alert"),t.points.miss>-1&&a()("#miss-box").removeClass("alert")}function i(t,e){let o=0;if("pickup"==e){for(var n=0;n<t.length;n++)"pickup"==t[n].eventType&&o++,"high"==t[n].eventType&&o--,"low"==t[n].eventType&&o--,"miss"==t[n].eventType&&o--;return o}if("high"==e){for(n=0;n<t.length;++n)"high"==t[n].eventType&&o++;return o}if("low"==e){for(n=0;n<t.length;++n)"low"==t[n].eventType&&o++;return o}if("miss"==e){for(n=0;n<t.length;++n)"miss"==t[n].eventType&&o++;return o}}async function u(){a()(".tab-container").addClass("hidden"),a()("#information").removeClass("hidden");if(n=await Object(l.c)(),e=void 0,o=await Object(l.b)(),null==o){const t=await Object(l.d)();o={currentMatch:await Object(l.a)(t[0])}}null!=o&&(null!=o.robot&&(t=o.robot),e=o.match),t={matchStartTime:0,team:"No Team Number",colour:"No Alliance",balls:0,matchNumber:o.currentMatch.matchNumber,points:{high:0,low:0,miss:0},wheel:{rotation:0,position:0},defense:{rating:null},status:{disconnect:0,failure:0,yellow:0,red:0,estop:0},climb:0,comments:null,scout:n.scout,events:[],image:null},a()(".endgame-toggle").removeClass("endgame-toggle-active"),a()(".emoji-toggle").removeClass("emoji-toggle-active"),a()("toggle").removeClass("toggle-active"),c()}await u(),r(),o.robot=t,Object(l.f)(o),a()("#ball-count-display").text(t.balls),a()("#high-ball-display").text(t.points.high),a()("#low-ball-display").text(t.points.low),a()("#miss-display").text(t.points.miss),a()(".start-button").click((function(){t.matchStartTime=Date.now(),a()("#information").addClass("hidden"),a()("#offense").removeClass("hidden"),o.robot=t,Object(l.f)(o)})),a()(".toggle").click((function(){a()(this).toggleClass("toggle-active"),o.robot=t,Object(l.f)(o)})),a()(".emoji-toggle").click((function(){const e=a()(this);a()(".emoji-toggle").removeClass("emoji-toggle-active"),e.addClass("emoji-toggle-active"),o.robot=t,Object(l.f)(o)})),a()(".endgame-toggle").click((function(){const t=a()(this);a()(".endgame-toggle").removeClass("endgame-toggle-active"),t.addClass("endgame-toggle-active")})),a()(".submenu").click((function(){const t=a()(this);a()(".tab-container").removeClass("tab-active"),t.addClass("tab-active");const e=t.data("tab-id");a()(".tab-container").addClass("hidden"),a()("#"+e).removeClass("hidden")})),a()(".btn-reset").click((function(){u(),c(),alert("Data cleared. Refresh the page to restore data.")})),a()(".btn-save").click((async function(){alert(t.scout+"'s scouting data was saved."),t.comments=a()("#comments").val(),void 0===t.comments&&(t.comments=""),t.formComplete=Date.now();const e="/events/"+o.currentMatch.event+"/robots/"+t.team+"/matches/";await Object(s.c)(e,o.currentMatch.id,t),async function(e,n){o.currentMatch=await Object(s.b)(e,n),await Object(l.f)(o),await u(),r(),o.robot=t,await Object(l.f)(o),c()}(o.currentMatch.collectionPath,o.currentMatch.nextMatch)})),a()(".button-event").click((function(){const e=a()(this);t.events.push({timestamp:Date.now(),eventType:e.data("event-type")}),c(),o.robot=t,Object(l.f)(o)})),a()(".undo").click((function(){if(t.events.length>0){a()(this);let e=void 0;if(t.events.forEach((function(n,a){(function(t){if("pickup"==t.eventType||"high"==t.eventType||"low"==t.eventType||"miss"==t.eventType)return!0;return!1})(n)&&(e=a,o.robot=t,Object(l.f)(o))})),null!=e){t.events[e];t.events.splice(e,1),o.robot=t,Object(l.f)(o)}}c(),o.robot=t,Object(l.f)(o)})),a()("#rotation-successful").click((function(){rotationSuccessStatusRaw++,robotStatus(t)})),a()("#position-successful").click((function(){positionSuccessStatusRaw++,robotStatus(t),o.robot=t,Object(l.f)(o)})),a()("#fire").click((function(){t.defense.rating=2,o.robot=t,Object(l.f)(o)})),a()("#ok").click((function(){t.defense.rating=1,o.robot=t,Object(l.f)(o)})),a()("#bad").click((function(){t.defense.rating=0,o.robot=t,Object(l.f)(o)})),a()("#balanced").click((function(){t.climb=3})),a()("#climbed").click((function(){t.climb=2})),a()("#failed").click((function(){t.climb=1})),a()("#disconnect").click((function(){disconnectStatusRaw++,o.robot=t,Object(l.f)(o)})),a()("#failure").click((function(){failureStatusRaw++,o.robot=t,Object(l.f)(o)})),a()("#yellow").click((function(){yellowRaw++,o.robot=t,Object(l.f)(o)})),a()("#red").click((function(){redRaw++,o.robot=t,Object(l.f)(o)})),a()("#estop").click((function(){estopRaw++,o.robot=t,Object(l.f)(o)}))}))},5:function(t,e,o){"use strict";o.d(e,"c",(function(){return r})),o.d(e,"b",(function(){return c})),o.d(e,"a",(function(){return i}));var n=o(3),a=(o(11),o(12),o(2));const l={apiKey:"AIzaSyAeG697qsKGtAYKaozDNflZYAIElYfou-w",authDomain:"frc-2020-scouting.firebaseapp.com",databaseURL:"https://frc-2020-scouting.firebaseio.com",projectId:"frc-2020-scouting",storageBucket:"frc-2020-scouting.appspot.com",messagingSenderId:"63114247978",appId:"1:63114247978:web:c257b4f61d522ad30ca853"};console.log(l);const s=n.apps.length?n.apps[0]:n.initializeApp(l),r=(t,e,o)=>navigator.onLine?s.firestore().collection(t).doc(e).set(o):Object(a.e)(t,e,o),c=async(t,e)=>{if(navigator.onLine){const o=(await s.firestore().collection(t).doc(e).get()).data();return null!=o&&await Object(a.e)(t,e,o),o}return Object(a.a)(t,e)},i=async t=>{const e=await n.firestore().collection(t).get();return await Promise.all(e.docs.map(async e=>{const o=e.data();return o.id=e.id,o.collectionPath=t,await Object(a.e)(t,e.id,o),o}))}}});